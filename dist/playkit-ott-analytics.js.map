{"version":3,"sources":["./ott-analytics/webpack/universalModuleDefinition","./ott-analytics/webpack/bootstrap 0198a6a9b3fb111ff64c","./ott-analytics/external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":\"Playkit\"}","./ott-analytics/./index.js","./ott-analytics/./ott-analytics.js","./ott-analytics//Users/dan.ziv/WebstormProjects/playkit-js-providers/dist/playkit-bookmark-service.js","./ott-analytics/../node_modules/webpack/buildin/module.js"],"names":["VERSION","NAME","pluginName","MEDIA_TYPE","CONCURRENT","OttAnalyticsEvent","LOAD","PLAY","PAUSE","FINISH","FIRST_PLAY","BITRATE_CHANGE","HIT","OttAnalytics","name","player","config","_initializeMembers","_registerListeners","_sendAnalytics","_eventParams","eventManager","destroy","PlayerEvent","Event","listen","_onFirstPlay","_onPlay","_onPause","ENDED","_onEnded","SEEKED","_onSeeked","VIDEO_TRACK_CHANGED","_onVideoTrackChanged","CHANGE_SOURCE_STARTED","_onChangeSourceStarted","SOURCE_SELECTED","_onSourceSelected","event","source","payload","selectedSource","parts","id","split","_fileId","parseInt","e","logger","error","_isPlaying","_startMediaHitInterval","_didFirstPlay","_clearMediaHitInterval","_playFromContinue","action","params","playerData","averageBitrate","totalBitrate","currentBitrate","fileId","bookMark","type","mediaType","mediaId","position","request","add","serviceUrl","ks","doHttpRequest","then","data","_concurrentFlag","debug","err","_mediaHitInterval","setInterval","mediaHitInterval","clearInterval","startTime","_continueTime","entryId","currentTime","defaultConfig","t","exports","module","PlaykitJsProviders","r","n","o","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","TypeError","value","Symbol","iterator","constructor","length","writable","key","a","arguments","Map","headers","service","url","Error","XMLHttpRequest","Promise","onreadystatechange","readyState","status","JSON","parse","responseText","code","message","open","method","forEach","setRequestHeader","send","u","getLevel","setLevel","setLogLevel","getLogLevel","LogLevel","DEBUG","INFO","TIME","WARN","ERROR","OFF","useDefaults","defaultLevel","Array","isArray","slice","assign","keys","clone","apply","f","context","filterLevel","log","info","enabledFor","invoke","warn","time","timeEnd","level","v","setHandler","createDefaultHandler","formatter","unshift","Function","console","Date","getTime","hasError","objectType","serviceParams","partnerId","set","getUrl","ReferenceError","create","setPrototypeOf","__proto__","getPrototypeOf","bookmark","stringify","RequestBuilder","OTTConfiguration","OTTBookmarkService","MultiRequestResult","y","concat","requests","push","_logger","b","results","success","result","cdnUrl","apiVersion"],"mappings":"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","file":"playkit-ott-analytics.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlaykitJsOttAnalytics\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"PlaykitJsOttAnalytics\"] = factory(root[\"Playkit\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0198a6a9b3fb111ff64c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":\"Playkit\"}\n// module id = 0\n// module chunks = 0","// @flow\nimport {registerPlugin} from 'playkit-js'\nimport OttAnalytics from './ott-analytics'\n\ndeclare var __VERSION__: string;\ndeclare var __NAME__: string;\n\nexport default OttAnalytics;\nexport {__VERSION__ as VERSION, __NAME__ as NAME};\n\n/**\n * The plugin name.\n * @type {string}\n * @const\n */\nconst pluginName: string = \"ottAnalytics\";\n\nregisterPlugin(pluginName, OttAnalytics);\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","//@flow\nimport {BasePlugin} from 'playkit-js'\nimport {OTTBookmarkService, RequestBuilder} from 'playkit-js-providers/dist/playkit-bookmark-service'\n\ntype OttAnalyticsEventType = { [event: string]: string };\nconst MEDIA_TYPE = 'MEDIA';\nconst CONCURRENT = 'Concurrent';\nconst OttAnalyticsEvent: OttAnalyticsEventType = {\n  LOAD: 'LOAD',\n  PLAY: 'PLAY',\n  PAUSE: 'PAUSE',\n  FINISH: 'FINISH',\n  FIRST_PLAY: 'FIRST_PLAY',\n  BITRATE_CHANGE: 'BITRATE_CHANGE',\n  HIT: 'HIT'\n};\n\nexport default class OttAnalytics extends BasePlugin {\n  /**\n   * The default configuration of the plugin.\n   * @type {Object}\n   * @static\n   */\n  static defaultConfig: Object = {\n    serviceUrl: 'http://api-preprod.ott.kaltura.com/v4_6/api_v3',\n    mediaHitInterval: 30,\n    startTime: null\n  };\n\n  /**\n   * Whether the ima plugin is valid.\n   * @static\n   * @override\n   * @public\n   */\n  static isValid(): boolean {\n    return true;\n  }\n\n  _isPlaying: boolean;\n  _concurrentFlag: boolean;\n  _fileId: number;\n  _didFirstPlay: boolean;\n  _mediaHitInterval: number;\n  _continueTime: number;\n  _playFromContinue: boolean;\n  _isPlaying: boolean;\n\n  /**\n   * @constructor\n   * @param {string} name - The plugin name.\n   * @param {Player} player - The player instance.\n   * @param {Object} config - The plugin config.\n   */\n  constructor(name: string, player: Player, config: Object) {\n    super(name, player, config);\n    this._initializeMembers();\n    this._registerListeners();\n    this._sendAnalytics(OttAnalyticsEvent.LOAD, this._eventParams);\n  }\n\n  /**\n   * Destroys the plugin.\n   * @override\n   * @public\n   * @returns {void}\n   */\n  destroy(): void {\n    this.eventManager.destroy();\n  }\n\n  /**\n   * Registers the player listeners.\n   * @private\n   * @returns {void}\n   */\n  _registerListeners(): void {\n    const PlayerEvent = this.player.Event;\n    this.eventManager.listen(this.player, PlayerEvent.FIRST_PLAY, () => this._onFirstPlay());\n    this.eventManager.listen(this.player, PlayerEvent.PLAY, () => this._onPlay());\n    this.eventManager.listen(this.player, PlayerEvent.PAUSE, () => this._onPause());\n    this.eventManager.listen(this.player, PlayerEvent.ENDED, () => this._onEnded());\n    this.eventManager.listen(this.player, PlayerEvent.SEEKED, () => this._onSeeked());\n    this.eventManager.listen(this.player, PlayerEvent.VIDEO_TRACK_CHANGED, () => this._onVideoTrackChanged());\n    this.eventManager.listen(this.player, PlayerEvent.CHANGE_SOURCE_STARTED, () => this._onChangeSourceStarted());\n    this.eventManager.listen(this.player, PlayerEvent.SOURCE_SELECTED, event => this._onSourceSelected(event));\n  }\n\n  /**\n   * The source selected event listener.\n   * @param {Object} event - The event object.\n   * @private\n   * @returns {void}\n   */\n  _onSourceSelected(event: Object): void {\n    try {\n      const source = event.payload.selectedSource[0];\n      const parts = source.id.split(',');\n      const id = parts[0];\n      this._fileId = parseInt(id);\n    } catch (e) {\n      this.logger.error(e);\n    }\n  }\n\n  /**\n   * The play event listener.\n   * @private\n   * @returns {void}\n   */\n  _onPlay(): void {\n    this._isPlaying = true;\n    this._startMediaHitInterval();\n    this._sendAnalytics(OttAnalyticsEvent.PLAY, this._eventParams);\n  }\n\n  /**\n   * The pause event listener.\n   * @private\n   * @returns {void}\n   */\n  _onPause(): void {\n    this._isPlaying = false;\n    if (this._didFirstPlay) {\n      this._sendAnalytics(OttAnalyticsEvent.PAUSE, this._eventParams);\n    }\n  }\n\n  /**\n   * The ended event listener.\n   * @private\n   * @returns {void}\n   */\n  _onEnded(): void {\n    this._isPlaying = false;\n    this._clearMediaHitInterval();\n    this._sendAnalytics(OttAnalyticsEvent.FINISH, this._eventParams);\n  }\n\n  /**\n   * The first play event listener.\n   * @private\n   * @returns {void}\n   */\n  _onFirstPlay(): void {\n    this._didFirstPlay = true;\n    this._sendAnalytics(OttAnalyticsEvent.FIRST_PLAY, this._eventParams);\n  }\n\n  /**\n   * Sets _playFromContinue to false on seeked event.\n   * @private\n   * @returns {void}\n   */\n  _onSeeked(): void {\n    this._playFromContinue = false;\n  }\n\n  /**\n   * Send BITRATE_CHANGE analytic.\n   * @private\n   * @returns {void}\n   */\n  _onVideoTrackChanged(): void {\n    this._sendAnalytics(OttAnalyticsEvent.BITRATE_CHANGE, this._eventParams);\n  }\n\n  /**\n   * Sets _didFirstPlay to false on media change.\n   * @private\n   * @returns {void}\n   */\n  _onChangeSourceStarted(): void {\n    this._didFirstPlay = false;\n  }\n\n  /**\n   * Get the player params which relevant to analytics request.\n   * @private\n   * @returns {Object} - The player params\n   */\n  get _eventParams(): Object {\n    return {\n      mediaType: MEDIA_TYPE,\n      fileId: this._fileId,\n      mediaId: this.config.entryId,\n      position: this.player.currentTime\n    };\n  }\n\n  /**\n   * Send analytics.\n   * @param {string} action - The action\n   * @param {string} params - The params\n   * @private\n   * @returns {void}\n   */\n  _sendAnalytics(action: string, params: Object): void {\n    const playerData: Object = {\n      action: action,\n      averageBitrate: 0, totalBitrate: 0,\n      currentBitrate: 0, fileId: params.fileId,\n    };\n    const bookMark: Object = {\n      type: params.mediaType,\n      id: params.mediaId,\n      position: params.position,\n      playerData: playerData\n    };\n    const request: RequestBuilder = OTTBookmarkService.add(this.config.serviceUrl, this.config.ks, bookMark);\n    request.doHttpRequest()\n      .then((data) => {\n        if (data === CONCURRENT) {\n          this._concurrentFlag = true;\n        } else {\n          this.logger.debug('Analytics event sent', bookMark);\n        }\n      }, err => {\n        this.logger.error('Failed to send analytics event', bookMark, err);\n      });\n  }\n\n  /**\n   * Starts the media hit interval.\n   * @private\n   * @returns {void}\n   */\n  _startMediaHitInterval(): void {\n    this._clearMediaHitInterval();\n    this._mediaHitInterval = setInterval(() => {\n      if (this._isPlaying) {\n        this._playFromContinue = false;\n        if (this._concurrentFlag || this._eventParams.position === 0) {\n          return;\n        } else {\n          this._sendAnalytics(OttAnalyticsEvent.HIT, this._eventParams);\n        }\n      }\n    }, this.config.mediaHitInterval * 1000);\n  }\n\n  /**\n   * Clears the media hit interval.\n   * @private\n   * @returns {void}\n   */\n  _clearMediaHitInterval(): void {\n    clearInterval(this._mediaHitInterval);\n    this._mediaHitInterval = 0;\n  }\n\n  /**\n   * Initializes the class members.\n   * @private\n   * @returns {void}\n   */\n  _initializeMembers(): void {\n    this._isPlaying = false;\n    this._concurrentFlag = false;\n    this._fileId = 0;\n    this._didFirstPlay = false;\n    this._mediaHitInterval = 0;\n    this._isPlaying = false;\n    if (this.config.startTime) {\n      this._continueTime = this.config.startTime;\n      this._playFromContinue = true;\n    } else {\n      this._continueTime = 0;\n      this._playFromContinue = false;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ott-analytics.js","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.PlaykitJsProviders=t():e.PlaykitJsProviders=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=44)}({0:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=a},1:function(e,t,n){\"use strict\";function r(e){return e?u.get(e):u}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var a=n(12),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l={DEBUG:u.DEBUG,INFO:u.INFO,TIME:u.TIME,WARN:u.WARN,ERROR:u.ERROR,OFF:u.OFF};u.useDefaults({defaultLevel:u.ERROR}),t.default=r,t.LogLevel=l,t.getLogLevel=o,t.setLogLevel=i},11:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},12:function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var a={};a.VERSION=\"1.4.1\";var u,l={},s=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};a.DEBUG=f(1,\"DEBUG\"),a.INFO=f(2,\"INFO\"),a.TIME=f(3,\"TIME\"),a.WARN=f(4,\"WARN\"),a.ERROR=f(8,\"ERROR\"),a.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(a.DEBUG,arguments)},info:function(){this.invoke(a.INFO,arguments)},warn:function(){this.invoke(a.WARN,arguments)},error:function(){this.invoke(a.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,\"end\"])},invoke:function(e,t){u&&this.enabledFor(e)&&u(t,c({level:e},this.context))}};var v=new p({filterLevel:a.OFF});!function(){var e=a;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),a.setHandler=function(e){u=e},a.setLevel=function(e){v.setLevel(e);for(var t in l)l.hasOwnProperty(t)&&l[t].setLevel(e)},a.getLevel=function(){return v.getLevel()},a.get=function(e){return l[e]||(l[e]=new p(c({name:e},v.context)))},a.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,u=console.log;o.level===a.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(u,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===a.WARN&&console.warn?u=console.warn:o.level===a.ERROR&&console.error?u=console.error:o.level===a.INFO&&console.info?u=console.info:o.level===a.DEBUG&&console.debug&&(u=console.debug),e.formatter(r,o),n(u,r))}},a.useDefaults=function(e){a.setLevel(e&&e.defaultLevel||a.DEBUG),a.setHandler(a.createDefaultHandler(e))},r=a,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},2:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},20:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),u=r(a),l=n(6),s=r(l),c=s.default.get(),f=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t){var n=c.serviceParams;e&&Object.assign(n,{ks:e}),t&&Object.assign(n,{partnerId:t});var r=new Map;r.set(\"Content-Type\",\"application/json\");var o=new u.default(r);return o.method=\"POST\",o.service=\"multirequest\",o.url=o.getUrl(c.serviceUrl),o.params=n,o}}]),e}();t.default=f},35:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(20),s=r(l),c=n(0),f=r(c),p=n(6),v=r(p),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:\"add\",value:function(e,t,n){var r=new Map;r.set(\"Content-Type\",\"application/json\");var o=new f.default(r);o.service=\"bookmark\",o.action=\"add\",o.method=\"POST\",o.url=o.getUrl(e);var i={objectType:\"KalturaBookmarkPlayerData\",action:n.playerData.action,averageBitrate:n.playerData.averageBitrate,totalBitrate:n.playerData.totalBitrate,currentBitrate:n.playerData.currentBitrate,fileId:n.playerData.fileId},a={objectType:\"KalturaBookmark\",type:n.type,id:n.id,position:n.position,playerData:i},u=v.default.get(),l=u.serviceParams;return Object.assign(l,{bookmark:a,ks:t}),o.params=JSON.stringify(l),o}}]),t}(s.default);t.default=d},44:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OTTConfiguration=t.OTTBookmarkService=void 0;var o=n(0),i=r(o),a=n(6),u=r(a),l=n(35),s=r(l);t.OTTBookmarkService=s.default,t.OTTConfiguration=u.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-bookmark-service\",t.VERSION=\"1.5.0\"},5:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(1),p=r(f),v=n(2),d=r(v),y=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.requests=[],o=n,a(r,o)}return u(t,e),l(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(c.default);y._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=y;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new d.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},6:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OTTConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),a={serviceUrl:\"//api-preprod.ott.kaltura.com/v4_6/api_v3\",cdnUrl:\"//api-preprod.ott.kaltura.com/v4_6\",serviceParams:{apiVersion:\"4.5.4.15337\"}},u=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(a,e)}},{key:\"get\",value:function(){return(0,i.clone)(a)}}]),e}();t.default=u,t.OTTConfiguration=u}})});\n//# sourceMappingURL=playkit-bookmark-service.js.map\n\n\n// WEBPACK FOOTER //\n// /Users/dan.ziv/WebstormProjects/playkit-js-providers/dist/playkit-bookmark-service.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/webpack/buildin/module.js\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}