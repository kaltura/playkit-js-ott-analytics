{"version":3,"sources":["./ott-analytics/webpack/universalModuleDefinition","./ott-analytics/playkit-ott-analytics.js","./ott-analytics/webpack/bootstrap fce41425fbe51625a946","./ott-analytics/external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":\"Playkit\"}","./ott-analytics/./index.js","./ott-analytics/./ott-analytics.js","./ott-analytics/../node_modules/playkit-js-providers/dist/playkit-bookmark-service.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","NAME","VERSION","undefined","_playkitJs","_ottAnalytics","_ottAnalytics2","obj","default","registerPlugin","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_playkitBookmarkService","OttAnalyticsEvent","LOAD","PLAY","PAUSE","FINISH","FIRST_PLAY","BITRATE_CHANGE","HIT","OttAnalytics","_BasePlugin","player","config","_this","getPrototypeOf","_initializeMembers","_registerListeners","_sendAnalytics","_eventParams","eventManager","destroy","_this2","PlayerEvent","Event","listen","_onFirstPlay","_onPlay","_onPause","ENDED","_onEnded","SEEKED","_onSeeked","VIDEO_TRACK_CHANGED","_onVideoTrackChanged","CHANGE_SOURCE_STARTED","_onChangeSourceStarted","SOURCE_SELECTED","event","_onSourceSelected","source","payload","selectedSource","parts","id","split","_fileId","parseInt","e","logger","error","_isPlaying","_startMediaHitInterval","_didFirstPlay","_clearMediaHitInterval","_playFromContinue","action","params","_this3","playerData","averageBitrate","totalBitrate","currentBitrate","fileId","bookMark","type","mediaType","mediaId","position","OTTBookmarkService","add","serviceUrl","ks","doHttpRequest","then","data","_concurrentFlag","debug","err","_this4","_mediaHitInterval","setInterval","mediaHitInterval","clearInterval","startTime","_continueTime","entryId","currentTime","BasePlugin","defaultConfig","t","r","0","Symbol","iterator","a","arguments","Map","headers","service","url","Error","XMLHttpRequest","Promise","onreadystatechange","readyState","status","JSON","parse","responseText","code","message","open","method","forEach","setRequestHeader","send","1","u","getLevel","setLevel","setLogLevel","getLogLevel","LogLevel","DEBUG","INFO","TIME","WARN","ERROR","OFF","useDefaults","defaultLevel","11","Array","isArray","slice","assign","keys","clone","12","apply","f","context","filterLevel","log","info","enabledFor","invoke","warn","time","timeEnd","level","v","setHandler","createDefaultHandler","formatter","unshift","Function","console","Date","getTime","2","hasError","objectType","20","serviceParams","partnerId","set","getUrl","35","bookmark","stringify","44","RequestBuilder","OTTConfiguration","5","MultiRequestResult","y","concat","requests","push","_logger","b","results","success","result","6","cdnUrl","apiVersion"],"mappings":"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","file":"playkit-ott-analytics.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlaykitJsOttAnalytics\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"PlaykitJsOttAnalytics\"] = factory(root[\"Playkit\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PlaykitJsOttAnalytics\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"PlaykitJsOttAnalytics\"] = factory(root[\"Playkit\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NAME = exports.VERSION = undefined;\n\nvar _playkitJs = __webpack_require__(0);\n\nvar _ottAnalytics = __webpack_require__(2);\n\nvar _ottAnalytics2 = _interopRequireDefault(_ottAnalytics);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _ottAnalytics2.default;\nexports.VERSION = \"0.0.1\";\nexports.NAME = \"playkit-js-ott-analytics\";\n\n/**\n * The plugin name.\n * @type {string}\n * @const\n */\n\nvar pluginName = \"ottAnalytics\";\n\n(0, _playkitJs.registerPlugin)(pluginName, _ottAnalytics2.default);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _playkitJs = __webpack_require__(0);\n\nvar _playkitBookmarkService = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MEDIA_TYPE = 'MEDIA';\nvar CONCURRENT = 'Concurrent';\nvar OttAnalyticsEvent = {\n  LOAD: 'LOAD',\n  PLAY: 'PLAY',\n  PAUSE: 'PAUSE',\n  FINISH: 'FINISH',\n  FIRST_PLAY: 'FIRST_PLAY',\n  BITRATE_CHANGE: 'BITRATE_CHANGE',\n  HIT: 'HIT'\n};\n\nvar OttAnalytics = function (_BasePlugin) {\n  _inherits(OttAnalytics, _BasePlugin);\n\n  _createClass(OttAnalytics, null, [{\n    key: 'isValid',\n\n\n    /**\n     * Whether the ima plugin is valid.\n     * @static\n     * @override\n     * @public\n     */\n    value: function isValid() {\n      return true;\n    }\n    /**\n     * The default configuration of the plugin.\n     * @type {Object}\n     * @static\n     */\n\n  }]);\n\n  /**\n   * @constructor\n   * @param {string} name - The plugin name.\n   * @param {Player} player - The player instance.\n   * @param {Object} config - The plugin config.\n   */\n  function OttAnalytics(name, player, config) {\n    _classCallCheck(this, OttAnalytics);\n\n    var _this = _possibleConstructorReturn(this, (OttAnalytics.__proto__ || Object.getPrototypeOf(OttAnalytics)).call(this, name, player, config));\n\n    _this._initializeMembers();\n    _this._registerListeners();\n    _this._sendAnalytics(OttAnalyticsEvent.LOAD, _this._eventParams);\n    return _this;\n  }\n\n  /**\n   * Destroys the plugin.\n   * @override\n   * @public\n   * @returns {void}\n   */\n\n\n  _createClass(OttAnalytics, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.eventManager.destroy();\n    }\n\n    /**\n     * Registers the player listeners.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_registerListeners',\n    value: function _registerListeners() {\n      var _this2 = this;\n\n      var PlayerEvent = this.player.Event;\n      this.eventManager.listen(this.player, PlayerEvent.FIRST_PLAY, function () {\n        return _this2._onFirstPlay();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.PLAY, function () {\n        return _this2._onPlay();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.PAUSE, function () {\n        return _this2._onPause();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.ENDED, function () {\n        return _this2._onEnded();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.SEEKED, function () {\n        return _this2._onSeeked();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.VIDEO_TRACK_CHANGED, function () {\n        return _this2._onVideoTrackChanged();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.CHANGE_SOURCE_STARTED, function () {\n        return _this2._onChangeSourceStarted();\n      });\n      this.eventManager.listen(this.player, PlayerEvent.SOURCE_SELECTED, function (event) {\n        return _this2._onSourceSelected(event);\n      });\n    }\n\n    /**\n     * The source selected event listener.\n     * @param {Object} event - The event object.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onSourceSelected',\n    value: function _onSourceSelected(event) {\n      try {\n        var source = event.payload.selectedSource[0];\n        var parts = source.id.split(',');\n        var id = parts[0];\n        this._fileId = parseInt(id);\n      } catch (e) {\n        this.logger.error(e);\n      }\n    }\n\n    /**\n     * The play event listener.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onPlay',\n    value: function _onPlay() {\n      this._isPlaying = true;\n      this._startMediaHitInterval();\n      this._sendAnalytics(OttAnalyticsEvent.PLAY, this._eventParams);\n    }\n\n    /**\n     * The pause event listener.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onPause',\n    value: function _onPause() {\n      this._isPlaying = false;\n      if (this._didFirstPlay) {\n        this._sendAnalytics(OttAnalyticsEvent.PAUSE, this._eventParams);\n      }\n    }\n\n    /**\n     * The ended event listener.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onEnded',\n    value: function _onEnded() {\n      this._isPlaying = false;\n      this._clearMediaHitInterval();\n      this._sendAnalytics(OttAnalyticsEvent.FINISH, this._eventParams);\n    }\n\n    /**\n     * The first play event listener.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onFirstPlay',\n    value: function _onFirstPlay() {\n      this._didFirstPlay = true;\n      this._sendAnalytics(OttAnalyticsEvent.FIRST_PLAY, this._eventParams);\n    }\n\n    /**\n     * Sets _playFromContinue to false on seeked event.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onSeeked',\n    value: function _onSeeked() {\n      this._playFromContinue = false;\n    }\n\n    /**\n     * Send BITRATE_CHANGE analytic.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onVideoTrackChanged',\n    value: function _onVideoTrackChanged() {\n      this._sendAnalytics(OttAnalyticsEvent.BITRATE_CHANGE, this._eventParams);\n    }\n\n    /**\n     * Sets _didFirstPlay to false on media change.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_onChangeSourceStarted',\n    value: function _onChangeSourceStarted() {\n      this._didFirstPlay = false;\n    }\n\n    /**\n     * Get the player params which relevant to analytics request.\n     * @private\n     * @returns {Object} - The player params\n     */\n\n  }, {\n    key: '_sendAnalytics',\n\n\n    /**\n     * Send analytics.\n     * @param {string} action - The action\n     * @param {string} params - The params\n     * @private\n     * @returns {void}\n     */\n    value: function _sendAnalytics(action, params) {\n      var _this3 = this;\n\n      var playerData = {\n        action: action,\n        averageBitrate: 0, totalBitrate: 0,\n        currentBitrate: 0, fileId: params.fileId\n      };\n      var bookMark = {\n        type: params.mediaType,\n        id: params.mediaId,\n        position: params.position,\n        playerData: playerData\n      };\n      var request = _playkitBookmarkService.OTTBookmarkService.add(this.config.serviceUrl, this.config.ks, bookMark);\n      request.doHttpRequest().then(function (data) {\n        if (data === CONCURRENT) {\n          _this3._concurrentFlag = true;\n        } else {\n          _this3.logger.debug('Analytics event sent', bookMark);\n        }\n      }, function (err) {\n        _this3.logger.error('Failed to send analytics event', bookMark, err);\n      });\n    }\n\n    /**\n     * Starts the media hit interval.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_startMediaHitInterval',\n    value: function _startMediaHitInterval() {\n      var _this4 = this;\n\n      this._clearMediaHitInterval();\n      this._mediaHitInterval = setInterval(function () {\n        if (_this4._isPlaying) {\n          _this4._playFromContinue = false;\n          if (_this4._concurrentFlag || _this4._eventParams.position === 0) {\n            return;\n          } else {\n            _this4._sendAnalytics(OttAnalyticsEvent.HIT, _this4._eventParams);\n          }\n        }\n      }, this.config.mediaHitInterval * 1000);\n    }\n\n    /**\n     * Clears the media hit interval.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_clearMediaHitInterval',\n    value: function _clearMediaHitInterval() {\n      clearInterval(this._mediaHitInterval);\n      this._mediaHitInterval = 0;\n    }\n\n    /**\n     * Initializes the class members.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_initializeMembers',\n    value: function _initializeMembers() {\n      this._isPlaying = false;\n      this._concurrentFlag = false;\n      this._fileId = 0;\n      this._didFirstPlay = false;\n      this._mediaHitInterval = 0;\n      this._isPlaying = false;\n      if (this.config.startTime) {\n        this._continueTime = this.config.startTime;\n        this._playFromContinue = true;\n      } else {\n        this._continueTime = 0;\n        this._playFromContinue = false;\n      }\n    }\n  }, {\n    key: '_eventParams',\n    get: function get() {\n      return {\n        mediaType: MEDIA_TYPE,\n        fileId: this._fileId,\n        mediaId: this.config.entryId,\n        position: this.player.currentTime\n      };\n    }\n  }]);\n\n  return OttAnalytics;\n}(_playkitJs.BasePlugin);\n\nOttAnalytics.defaultConfig = {\n  serviceUrl: 'http://api-preprod.ott.kaltura.com/v4_6/api_v3',\n  mediaHitInterval: 30,\n  startTime: null\n};\nexports.default = OttAnalytics;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.PlaykitJsProviders=t():e.PlaykitJsProviders=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=44)}({0:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=a},1:function(e,t,n){\"use strict\";function r(e){return e?u.get(e):u}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var a=n(12),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l={DEBUG:u.DEBUG,INFO:u.INFO,TIME:u.TIME,WARN:u.WARN,ERROR:u.ERROR,OFF:u.OFF};u.useDefaults({defaultLevel:u.ERROR}),t.default=r,t.LogLevel=l,t.getLogLevel=o,t.setLogLevel=i},11:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},12:function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var a={};a.VERSION=\"1.4.1\";var u,l={},s=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};a.DEBUG=f(1,\"DEBUG\"),a.INFO=f(2,\"INFO\"),a.TIME=f(3,\"TIME\"),a.WARN=f(4,\"WARN\"),a.ERROR=f(8,\"ERROR\"),a.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(a.DEBUG,arguments)},info:function(){this.invoke(a.INFO,arguments)},warn:function(){this.invoke(a.WARN,arguments)},error:function(){this.invoke(a.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,\"end\"])},invoke:function(e,t){u&&this.enabledFor(e)&&u(t,c({level:e},this.context))}};var v=new p({filterLevel:a.OFF});!function(){var e=a;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),a.setHandler=function(e){u=e},a.setLevel=function(e){v.setLevel(e);for(var t in l)l.hasOwnProperty(t)&&l[t].setLevel(e)},a.getLevel=function(){return v.getLevel()},a.get=function(e){return l[e]||(l[e]=new p(c({name:e},v.context)))},a.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,u=console.log;o.level===a.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(u,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===a.WARN&&console.warn?u=console.warn:o.level===a.ERROR&&console.error?u=console.error:o.level===a.INFO&&console.info?u=console.info:o.level===a.DEBUG&&console.debug&&(u=console.debug),e.formatter(r,o),n(u,r))}},a.useDefaults=function(e){a.setLevel(e&&e.defaultLevel||a.DEBUG),a.setHandler(a.createDefaultHandler(e))},r=a,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},2:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},20:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),u=r(a),l=n(6),s=r(l),c=s.default.get(),f=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t){var n=c.serviceParams;e&&Object.assign(n,{ks:e}),t&&Object.assign(n,{partnerId:t});var r=new Map;r.set(\"Content-Type\",\"application/json\");var o=new u.default(r);return o.method=\"POST\",o.service=\"multirequest\",o.url=o.getUrl(c.serviceUrl),o.params=n,o}}]),e}();t.default=f},35:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(20),s=r(l),c=n(0),f=r(c),p=n(6),v=r(p),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:\"add\",value:function(e,t,n){var r=new Map;r.set(\"Content-Type\",\"application/json\");var o=new f.default(r);o.service=\"bookmark\",o.action=\"add\",o.method=\"POST\",o.url=o.getUrl(e);var i={objectType:\"KalturaBookmarkPlayerData\",action:n.playerData.action,averageBitrate:n.playerData.averageBitrate,totalBitrate:n.playerData.totalBitrate,currentBitrate:n.playerData.currentBitrate,fileId:n.playerData.fileId},a={objectType:\"KalturaBookmark\",type:n.type,id:n.id,position:n.position,playerData:i},u=v.default.get(),l=u.serviceParams;return Object.assign(l,{bookmark:a,ks:t}),o.params=JSON.stringify(l),o}}]),t}(s.default);t.default=d},44:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OTTConfiguration=t.OTTBookmarkService=void 0;var o=n(0),i=r(o),a=n(6),u=r(a),l=n(35),s=r(l);t.OTTBookmarkService=s.default,t.OTTConfiguration=u.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-bookmark-service\",t.VERSION=\"1.5.0\"},5:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(1),p=r(f),v=n(2),d=r(v),y=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.requests=[],o=n,a(r,o)}return u(t,e),l(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(c.default);y._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=y;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new d.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},6:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OTTConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),a={serviceUrl:\"//api-preprod.ott.kaltura.com/v4_6/api_v3\",cdnUrl:\"//api-preprod.ott.kaltura.com/v4_6\",serviceParams:{apiVersion:\"4.5.4.15337\"}},u=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(a,e)}},{key:\"get\",value:function(){return(0,i.clone)(a)}}]),e}();t.default=u,t.OTTConfiguration=u}})});\n//# sourceMappingURL=playkit-bookmark-service.js.map\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// playkit-ott-analytics.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fce41425fbe51625a946","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":\"Playkit\"}\n// module id = 0\n// module chunks = 0","// @flow\nimport {registerPlugin} from 'playkit-js'\nimport OttAnalytics from './ott-analytics'\n\ndeclare var __VERSION__: string;\ndeclare var __NAME__: string;\n\nexport default OttAnalytics;\nexport {__VERSION__ as VERSION, __NAME__ as NAME};\n\n/**\n * The plugin name.\n * @type {string}\n * @const\n */\nconst pluginName: string = \"ottAnalytics\";\n\nregisterPlugin(pluginName, OttAnalytics);\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","//@flow\nimport {BasePlugin} from 'playkit-js'\nimport {OTTBookmarkService, RequestBuilder} from 'playkit-js-providers/dist/playkit-bookmark-service'\n\ntype OttAnalyticsEventType = { [event: string]: string };\nconst MEDIA_TYPE = 'MEDIA';\nconst CONCURRENT = 'Concurrent';\nconst OttAnalyticsEvent: OttAnalyticsEventType = {\n  LOAD: 'LOAD',\n  PLAY: 'PLAY',\n  PAUSE: 'PAUSE',\n  FINISH: 'FINISH',\n  FIRST_PLAY: 'FIRST_PLAY',\n  BITRATE_CHANGE: 'BITRATE_CHANGE',\n  HIT: 'HIT'\n};\n\nexport default class OttAnalytics extends BasePlugin {\n  /**\n   * The default configuration of the plugin.\n   * @type {Object}\n   * @static\n   */\n  static defaultConfig: Object = {\n    serviceUrl: 'http://api-preprod.ott.kaltura.com/v4_6/api_v3',\n    mediaHitInterval: 30,\n    startTime: null\n  };\n\n  /**\n   * Whether the ima plugin is valid.\n   * @static\n   * @override\n   * @public\n   */\n  static isValid(): boolean {\n    return true;\n  }\n\n  _isPlaying: boolean;\n  _concurrentFlag: boolean;\n  _fileId: number;\n  _didFirstPlay: boolean;\n  _mediaHitInterval: number;\n  _continueTime: number;\n  _playFromContinue: boolean;\n  _isPlaying: boolean;\n\n  /**\n   * @constructor\n   * @param {string} name - The plugin name.\n   * @param {Player} player - The player instance.\n   * @param {Object} config - The plugin config.\n   */\n  constructor(name: string, player: Player, config: Object) {\n    super(name, player, config);\n    this._initializeMembers();\n    this._registerListeners();\n    this._sendAnalytics(OttAnalyticsEvent.LOAD, this._eventParams);\n  }\n\n  /**\n   * Destroys the plugin.\n   * @override\n   * @public\n   * @returns {void}\n   */\n  destroy(): void {\n    this.eventManager.destroy();\n  }\n\n  /**\n   * Registers the player listeners.\n   * @private\n   * @returns {void}\n   */\n  _registerListeners(): void {\n    const PlayerEvent = this.player.Event;\n    this.eventManager.listen(this.player, PlayerEvent.FIRST_PLAY, () => this._onFirstPlay());\n    this.eventManager.listen(this.player, PlayerEvent.PLAY, () => this._onPlay());\n    this.eventManager.listen(this.player, PlayerEvent.PAUSE, () => this._onPause());\n    this.eventManager.listen(this.player, PlayerEvent.ENDED, () => this._onEnded());\n    this.eventManager.listen(this.player, PlayerEvent.SEEKED, () => this._onSeeked());\n    this.eventManager.listen(this.player, PlayerEvent.VIDEO_TRACK_CHANGED, () => this._onVideoTrackChanged());\n    this.eventManager.listen(this.player, PlayerEvent.CHANGE_SOURCE_STARTED, () => this._onChangeSourceStarted());\n    this.eventManager.listen(this.player, PlayerEvent.SOURCE_SELECTED, event => this._onSourceSelected(event));\n  }\n\n  /**\n   * The source selected event listener.\n   * @param {Object} event - The event object.\n   * @private\n   * @returns {void}\n   */\n  _onSourceSelected(event: Object): void {\n    try {\n      const source = event.payload.selectedSource[0];\n      const parts = source.id.split(',');\n      const id = parts[0];\n      this._fileId = parseInt(id);\n    } catch (e) {\n      this.logger.error(e);\n    }\n  }\n\n  /**\n   * The play event listener.\n   * @private\n   * @returns {void}\n   */\n  _onPlay(): void {\n    this._isPlaying = true;\n    this._startMediaHitInterval();\n    this._sendAnalytics(OttAnalyticsEvent.PLAY, this._eventParams);\n  }\n\n  /**\n   * The pause event listener.\n   * @private\n   * @returns {void}\n   */\n  _onPause(): void {\n    this._isPlaying = false;\n    if (this._didFirstPlay) {\n      this._sendAnalytics(OttAnalyticsEvent.PAUSE, this._eventParams);\n    }\n  }\n\n  /**\n   * The ended event listener.\n   * @private\n   * @returns {void}\n   */\n  _onEnded(): void {\n    this._isPlaying = false;\n    this._clearMediaHitInterval();\n    this._sendAnalytics(OttAnalyticsEvent.FINISH, this._eventParams);\n  }\n\n  /**\n   * The first play event listener.\n   * @private\n   * @returns {void}\n   */\n  _onFirstPlay(): void {\n    this._didFirstPlay = true;\n    this._sendAnalytics(OttAnalyticsEvent.FIRST_PLAY, this._eventParams);\n  }\n\n  /**\n   * Sets _playFromContinue to false on seeked event.\n   * @private\n   * @returns {void}\n   */\n  _onSeeked(): void {\n    this._playFromContinue = false;\n  }\n\n  /**\n   * Send BITRATE_CHANGE analytic.\n   * @private\n   * @returns {void}\n   */\n  _onVideoTrackChanged(): void {\n    this._sendAnalytics(OttAnalyticsEvent.BITRATE_CHANGE, this._eventParams);\n  }\n\n  /**\n   * Sets _didFirstPlay to false on media change.\n   * @private\n   * @returns {void}\n   */\n  _onChangeSourceStarted(): void {\n    this._didFirstPlay = false;\n  }\n\n  /**\n   * Get the player params which relevant to analytics request.\n   * @private\n   * @returns {Object} - The player params\n   */\n  get _eventParams(): Object {\n    return {\n      mediaType: MEDIA_TYPE,\n      fileId: this._fileId,\n      mediaId: this.config.entryId,\n      position: this.player.currentTime\n    };\n  }\n\n  /**\n   * Send analytics.\n   * @param {string} action - The action\n   * @param {string} params - The params\n   * @private\n   * @returns {void}\n   */\n  _sendAnalytics(action: string, params: Object): void {\n    const playerData: Object = {\n      action: action,\n      averageBitrate: 0, totalBitrate: 0,\n      currentBitrate: 0, fileId: params.fileId,\n    };\n    const bookMark: Object = {\n      type: params.mediaType,\n      id: params.mediaId,\n      position: params.position,\n      playerData: playerData\n    };\n    const request: RequestBuilder = OTTBookmarkService.add(this.config.serviceUrl, this.config.ks, bookMark);\n    request.doHttpRequest()\n      .then((data) => {\n        if (data === CONCURRENT) {\n          this._concurrentFlag = true;\n        } else {\n          this.logger.debug('Analytics event sent', bookMark);\n        }\n      }, err => {\n        this.logger.error('Failed to send analytics event', bookMark, err);\n      });\n  }\n\n  /**\n   * Starts the media hit interval.\n   * @private\n   * @returns {void}\n   */\n  _startMediaHitInterval(): void {\n    this._clearMediaHitInterval();\n    this._mediaHitInterval = setInterval(() => {\n      if (this._isPlaying) {\n        this._playFromContinue = false;\n        if (this._concurrentFlag || this._eventParams.position === 0) {\n          return;\n        } else {\n          this._sendAnalytics(OttAnalyticsEvent.HIT, this._eventParams);\n        }\n      }\n    }, this.config.mediaHitInterval * 1000);\n  }\n\n  /**\n   * Clears the media hit interval.\n   * @private\n   * @returns {void}\n   */\n  _clearMediaHitInterval(): void {\n    clearInterval(this._mediaHitInterval);\n    this._mediaHitInterval = 0;\n  }\n\n  /**\n   * Initializes the class members.\n   * @private\n   * @returns {void}\n   */\n  _initializeMembers(): void {\n    this._isPlaying = false;\n    this._concurrentFlag = false;\n    this._fileId = 0;\n    this._didFirstPlay = false;\n    this._mediaHitInterval = 0;\n    this._isPlaying = false;\n    if (this.config.startTime) {\n      this._continueTime = this.config.startTime;\n      this._playFromContinue = true;\n    } else {\n      this._continueTime = 0;\n      this._playFromContinue = false;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./ott-analytics.js","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.PlaykitJsProviders=t():e.PlaykitJsProviders=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=44)}({0:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=a},1:function(e,t,n){\"use strict\";function r(e){return e?u.get(e):u}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var a=n(12),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l={DEBUG:u.DEBUG,INFO:u.INFO,TIME:u.TIME,WARN:u.WARN,ERROR:u.ERROR,OFF:u.OFF};u.useDefaults({defaultLevel:u.ERROR}),t.default=r,t.LogLevel=l,t.getLogLevel=o,t.setLogLevel=i},11:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},12:function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var a={};a.VERSION=\"1.4.1\";var u,l={},s=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};a.DEBUG=f(1,\"DEBUG\"),a.INFO=f(2,\"INFO\"),a.TIME=f(3,\"TIME\"),a.WARN=f(4,\"WARN\"),a.ERROR=f(8,\"ERROR\"),a.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(a.DEBUG,arguments)},info:function(){this.invoke(a.INFO,arguments)},warn:function(){this.invoke(a.WARN,arguments)},error:function(){this.invoke(a.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,\"end\"])},invoke:function(e,t){u&&this.enabledFor(e)&&u(t,c({level:e},this.context))}};var v=new p({filterLevel:a.OFF});!function(){var e=a;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),a.setHandler=function(e){u=e},a.setLevel=function(e){v.setLevel(e);for(var t in l)l.hasOwnProperty(t)&&l[t].setLevel(e)},a.getLevel=function(){return v.getLevel()},a.get=function(e){return l[e]||(l[e]=new p(c({name:e},v.context)))},a.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,u=console.log;o.level===a.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(u,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===a.WARN&&console.warn?u=console.warn:o.level===a.ERROR&&console.error?u=console.error:o.level===a.INFO&&console.info?u=console.info:o.level===a.DEBUG&&console.debug&&(u=console.debug),e.formatter(r,o),n(u,r))}},a.useDefaults=function(e){a.setLevel(e&&e.defaultLevel||a.DEBUG),a.setHandler(a.createDefaultHandler(e))},r=a,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},2:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},20:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),u=r(a),l=n(6),s=r(l),c=s.default.get(),f=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t){var n=c.serviceParams;e&&Object.assign(n,{ks:e}),t&&Object.assign(n,{partnerId:t});var r=new Map;r.set(\"Content-Type\",\"application/json\");var o=new u.default(r);return o.method=\"POST\",o.service=\"multirequest\",o.url=o.getUrl(c.serviceUrl),o.params=n,o}}]),e}();t.default=f},35:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(20),s=r(l),c=n(0),f=r(c),p=n(6),v=r(p),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,null,[{key:\"add\",value:function(e,t,n){var r=new Map;r.set(\"Content-Type\",\"application/json\");var o=new f.default(r);o.service=\"bookmark\",o.action=\"add\",o.method=\"POST\",o.url=o.getUrl(e);var i={objectType:\"KalturaBookmarkPlayerData\",action:n.playerData.action,averageBitrate:n.playerData.averageBitrate,totalBitrate:n.playerData.totalBitrate,currentBitrate:n.playerData.currentBitrate,fileId:n.playerData.fileId},a={objectType:\"KalturaBookmark\",type:n.type,id:n.id,position:n.position,playerData:i},u=v.default.get(),l=u.serviceParams;return Object.assign(l,{bookmark:a,ks:t}),o.params=JSON.stringify(l),o}}]),t}(s.default);t.default=d},44:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OTTConfiguration=t.OTTBookmarkService=void 0;var o=n(0),i=r(o),a=n(6),u=r(a),l=n(35),s=r(l);t.OTTBookmarkService=s.default,t.OTTConfiguration=u.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-bookmark-service\",t.VERSION=\"1.5.0\"},5:function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=r(s),f=n(1),p=r(f),v=n(2),d=r(v),y=function(e){function t(){var e,n,r,o;i(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.requests=[],o=n,a(r,o)}return u(t,e),l(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(c.default);y._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=y;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new d.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},6:function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OTTConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),a={serviceUrl:\"//api-preprod.ott.kaltura.com/v4_6/api_v3\",cdnUrl:\"//api-preprod.ott.kaltura.com/v4_6\",serviceParams:{apiVersion:\"4.5.4.15337\"}},u=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(a,e)}},{key:\"get\",value:function(){return(0,i.clone)(a)}}]),e}();t.default=u,t.OTTConfiguration=u}})});\n//# sourceMappingURL=playkit-bookmark-service.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/playkit-js-providers/dist/playkit-bookmark-service.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}